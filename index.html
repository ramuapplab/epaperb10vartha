<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="B10 Vartha - Daily Telugu News E-Paper">
    <title>B10 Vartha - Daily Telugu News E-Paper</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
    <style>
        :root {
            --primary: #2f96f0;
            --secondary: #1a5a8a;
            --accent: #ff6b6b;
            --success: #32b854;
            --bg: #f5f5f5;
            --text: #333;
            --border: #ddd;
            --light: #f9f9f9;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text);
    background: var(--bg);
    line-height: 1.6;
    overflow-x: hidden; /* Fixes side-scrolling on mobile */
    margin: 0;
    padding: 0;
}

        body {
            padding-top: 75px;
            padding-bottom: 180px;
            padding-bottom: 0 !important; /* Removes the "dragged down" look */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }


   /* FIXED HEADER - TIGHT PACKED */ 
.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: white;
    color: white;
    padding: 0;
    margin: 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    border-bottom: 1px solid var(--border);
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 10px;
    height: 45px;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 8px;
    z-index: 2;
}

.qr-code {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    cursor: pointer;
    background: white;
    padding: 2px;
    transition: transform 0.3s;
}

.qr-code:hover {
    transform: scale(1.05);
}

/* Centered Logo Container - B10 Vartha Logo */
.header-center {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
}

/* Remove gap below header */
body {
  margin: 0;
  padding: 0;
}

.main-content {
  margin-top: 0 !important;
  padding-top: 0 !important;
}



        .app-logo {
            height: 45px;
            width: auto;
            max-width: 250px;
            object-fit: contain;
        }

        /* Menu Button */
        .menu-toggle {
            background: var(--primary);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 6px;
            transition: all 0.3s;
            font-weight: bold;
            z-index: 2;
        }

        .menu-toggle:hover {
            background: var(--secondary);
            transform: scale(1.1);
        }

        /* SIDE MENU */
        .side-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: white;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.2);
            transition: left 0.3s ease;
            z-index: 1100;
            overflow-y: auto;
        }

        .side-menu.active {
            left: 0;
        }

        .menu-header {
            background: var(--primary);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-header h2 {
            margin: 0;
            font-size: 20px;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
        }

        .share-btn {
            background: none;
            border: none;
            color: white;
            font-size: 22px;
            cursor: pointer;
            padding: 0 10px;
            transition: transform 0.3s;
        }

        .share-btn:hover {
            transform: scale(1.15);
        }

        .menu-section-title {
            padding: 12px 20px;
            background: var(--secondary);
            color: white;
            font-weight: 600;
            font-size: 12px;
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--primary);
        }

        .menu-content {
            padding: 0;
        }

        .menu-item {
            display: block;
            width: 100%;
            padding: 18px 20px;
            border: none;
            background: none;
            text-align: left;
            font-size: 16px;
            cursor: pointer;
            color: var(--text);
            border-bottom: 1px solid var(--border);
            transition: background 0.3s;
        }

        .menu-item:hover {
            background: var(--light);
            color: var(--primary);
        }

        /* Menu Overlay */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1050;
        }

        .menu-overlay.active {
            display: block;
        }

        /* Add padding to body for fixed header */
        body {
            padding-top: 75px;
            padding-bottom: 180px;
        }

        /* Content sections hidden by default */
        .content-section {
            display: none;
            padding: 20px 0;
        }

        .content-section.active {
            display: block;
        }

        /* MAIN CONTENT AREA */
        .main-content {
            background: white;
            min-height: calc(100vh - 75px - 180px);
        }

        /* PDF Viewer Container */
        .pdf-viewer-container {
            position: relative;
            background: white;
            min-height: calc(100vh - 75px - 180px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Navigation Arrows */
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            z-index: 10;
        }

        .nav-arrow:hover {
            background: var(--secondary);
            transform: translateY(-50%) scale(1.1);
        }

        .nav-arrow-left {
            left: 20px;
        }

        .nav-arrow-right {
            right: 20px;
        }

        .pdf-canvas-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            width: 100%;
        }

        #pdfCanvas {
            max-width: 100%;
            max-height: calc(100vh - 150px);
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Selector Section Under header */
        .selector-section {
            background: white;
            padding: 20px;
            border-top: 2px solid var(--border);
            position: fixed;
            bottom: 0px;
                left: 0;
    right: 0;

            z-index: 100;
        }

        .selector-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .edition-selector {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            min-width: 250px;
        }

        .edition-selector label {
            font-weight: 600;
            color: var(--secondary);
            white-space: nowrap;
        }

        .edition-dropdown {
            flex: 1;
            padding: 10px 15px;
            border: 2px solid var(--border);
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .edition-dropdown:focus {
            outline: none;
            border-color: var(--primary);
        }

        .info-display {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .badge {
            display: none;
            padding: 8px 15px;
            background: var(--primary);
            color: white;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
        }

        /* FIXED FOOTER */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--secondary);
            color: white;
            padding: 20px 0;
            z-index: 1000;
            transform: translateY(100%);
            transition: transform 0.3s ease-in-out;
        }

        .footer.visible {
            transform: translateY(0);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 0 20px;
        }

        .footer-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            font-size: 12px;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 12px;
            transition: opacity 0.3s;
        }

        .footer-links a:hover {
            opacity: 0.8;
        }

        .footer-divider {
            color: white;
            opacity: 0.5;
            margin: 0 5px;
        }

        .footer-copyright {
            text-align: center;
            padding: 12px 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 12px;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.1);
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .social-icon {
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .social-icon:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        .page-indicators {
            display: flex;
            gap: 8px;
        }

        .page-indicator {
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.3);
            border: 1px solid white;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .page-indicator:hover {
            background: white;
            color: var(--secondary);
        }

        /* Content Pages Styling */
        .content-page {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .content-page h1 {
            color: var(--secondary);
            margin-bottom: 20px;
            font-size: 28px;
        }

        .content-page h2 {
            color: var(--primary);
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .content-page p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #555;
        }

        .content-page a {
            color: var(--primary);
            text-decoration: none;
        }

        .content-page a:hover {
            text-decoration: underline;
        }

        /* QR Modal */
        .qr-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .qr-modal.active {
            display: flex;
        }

        .qr-modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
        }

        .qr-modal-content img {
            width: 300px;
            height: 300px;
            margin-bottom: 20px;
        }

        .qr-modal-close {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-logo {
                height: 35px;
                max-width: 180px;
            }

            .header-content {
                padding: 0 10px;
            }

            .nav-arrow {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            .nav-arrow-left {
                left: 10px;
            }

            .nav-arrow-right {
                right: 10px;
            }

            .selector-content {
                flex-direction: column;
            }

            .edition-selector {
                width: 100%;
            }

            .footer-content {
                flex-direction: column;
                gap: 10px;
            }

            .footer-links {
                justify-content: center;
            }

            .social-icons {
                justify-content: center;
            }

            .page-indicators {
                justify-content: center;
            }
        }

        /* Loading spinner */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--primary);
        }

        .error-message {
            background: #ffebee;
            border: 2px solid #ef5350;
            color: #c62828;
            padding: 15px;
            border-radius: 6px;
            margin: 20px;
        }

        /* ---- NEW MOBILE & LAYOUT FIXES ---- */
        html, body {
            overflow-x: hidden; /* Fixes side-scrolling on mobile */
        }

        body {
            padding-bottom: 0 !important; /* Removes the "dragged down" look */
        }

        /* New Navigation Icons */
        .nav-arrow {
            background: rgba(0, 0, 0, 0.4) !important;
            border-radius: 8px !important;
            width: 45px !important;
            height: 60px !important;
        }

        /* Hidden Footer Setup */
        .footer {
            transform: translateY(100%);
            transition: transform 0.3s ease-in-out;
        }

        .footer.visible {
            transform: translateY(0);
        }

        /* Footer Toggle Button (‚èè) */
        .footer-toggle-btn {
            position: fixed;
            bottom: 0;
            left: 0;
            background: var(--secondary);
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 20px;
            border-top-right-radius: 12px;
            cursor: pointer;
            z-index: 2001;
        }

        .footer-toggle-btn:hover {
            background: #5a6268;
        }

        /* PDF Canvas Fit */
        #pdfCanvas {
            max-width: 100% !important;
            height: auto !important;
        }
    /* Category Navigation Bar */
.category-bar {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  white-space: nowrap;
  flex: 1;
  scrollbar-width: none;  /* Hide scrollbar Firefox */
  -ms-overflow-style: none;  /* Hide scrollbar IE/Edge */
}

.category-bar::-webkit-scrollbar {
  display: none;  /* Hide scrollbar Chrome/Safari */
}

.category-btn {
  color: #000000;
  text-decoration: none;
  padding: 6px 16px;
  border-radius: 6px;
  font-size: 15px;
  transition: all 0.3s ease;
  cursor: pointer;
  background-color: transparent;
}

.category-btn:hover {
  background-color: rgba(47, 150, 240, 0.3);
}

.category-btn.active {
  background-color: #2f96f0;
  color: #ffffff;
}
.category-header {
  display: flex;
  align-items: center;
  padding: 0;
  margin: 0;
  background-color: #ffffff;
}



.home-emoji {
  font-size: 24px;
  margin-right: 15px;
  flex-shrink: 0;
}

/* Scrolling Advertisement */
.ad-scroll-container {
  background-color: #2f96f0;
  color: #ffffff;
  font-weight: bold;
  font-size: 14px;
  padding: 4px 0;
  border-top: 2px solid #2680c9;
  border-bottom: 2px solid #2680c9;
}


/* Hide slider/banner below category */
.slider, .banner, #slider, #banner, 
[class*="slider"], [class*="banner"],
.carousel, #carousel, [class*="carousel"] {
  display: none !important;
}

    
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <img src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/3df0291a-f540-4ca3-9c20-042f0e258195" alt="QR Code" class="qr-code" id="qrToggle" title="Click for QR Code">
            </div>

            <div class="header-center">
                <img src="b10vartha.png" alt="B10 Vartha Logo" class="app-logo">
            </div>

            <button id="menuBtn" class="menu-toggle" title="Menu">‚ò∞</button>
        </div>
    </header>

    <!-- Category Navigation Bar -->
<div class="category-header">
  <div class="home-emoji">üè†</div>
  <div class="category-bar">
    <a href="https://www.b10vartha.in/search/label/%E0%B0%9C%E0%B0%BE%E0%B0%A4%E0%B1%80%E0%B0%AF%E0%B0%82" class="category-btn">‡∞ú‡∞æ‡∞§‡±Ä‡∞Ø‡∞Ç</a>
    <a href="https://www.b10vartha.in/search/label/%E0%B0%85%E0%B0%82%E0%B0%A4%E0%B0%B0%E0%B1%8D%E0%B0%9C%E0%B0%BE%E0%B0%A4%E0%B1%80%E0%B0%AF%E0%B0%82" class="category-btn">‡∞Ö‡∞Ç‡∞§‡∞∞‡±ç‡∞ú‡∞æ‡∞§‡±Ä‡∞Ø‡∞Ç</a>
    <a href="https://www.b10vartha.in/search/label/%E0%B0%B0%E0%B0%BE%E0%B0%9C%E0%B0%95%E0%B1%80%E0%B0%AF%E0%B0%BE%E0%B0%B2%E0%B1%81" class="category-btn">‡∞∞‡∞æ‡∞ú‡∞ï‡±Ä‡∞Ø‡∞æ‡∞≤‡±Å</a>
    <a href="https://www.b10vartha.in/search/label/%E0%B0%86%E0%B0%B0%E0%B1%8B%E0%B0%97%E0%B1%8D%E0%B0%AF%E0%B0%82" class="category-btn">‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞Ç</a>
    <a href="https://www.b10vartha.in/search/label/%E0%B0%86%E0%B0%9F%E0%B0%B2%E0%B1%81" class="category-btn">‡∞Ü‡∞ü‡∞≤‡±Å</a>
    <a href="https://www.b10vartha.in/search/label/%E0%B0%B5%E0%B0%BE%E0%B0%A4%E0%B0%BE%E0%B0%B5%E0%B0%B0%E0%B0%A3%E0%B0%82" class="category-btn">‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç</a>
  </div>
</div>

<!-- Scrolling Advertisement -->
<div class="ad-scroll-container">
  <marquee behavior="scroll" direction="left" scrollamount="5">
   üìû For Advertisements Contact: 9000607207 - 7207073777 ‚òé

  </marquee>
</div>


</div>


    <div id="sideMenu" class="side-menu">
        <div class="menu-header">
            <h2>Navigation</h2>
            <div style="display: flex; gap: 10px;">
                <button class="share-btn" id="shareBtn" title="Share"></button>
                <button id="closeMenuBtn" class="close-btn">‚úï</button>
            </div>
        </div>

        <nav class="menu-content">
            <button class="menu-item" onclick="showPage('home')">Home</button>
            <button class="menu-item" onclick="showPage('aboutus')">About Us</button>
            <button class="menu-item" onclick="showPage('privacy')">Privacy Policy</button>
            <button class="menu-item" onclick="showPage('contact')">Contact Us</button>
        </nav>
    </div>

    <div id="menuOverlay" class="menu-overlay"></div>

    <div id="qrModal" class="qr-modal">
        <div class="qr-modal-content">
            <h2></h2>
            <img src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/3df0291a-f540-4ca3-9c20-042f0e258195" alt="QR Code" id="qrCodeImage">
            <p>epaperb10vartha.in</p>
            <button class="qr-modal-close" onclick="closeQRModal()">Close</button>
        </div>
    </div>

    <div class="main-content">
        <div id="home" class="content-section active">
            <div class="selector-section">
                <div class="selector-content">
                    <div class="edition-selector">
                        <label for="editionSelect">Select Edition:</label>
                        <select id="editionSelect" class="edition-dropdown">
                            <option>Loading editions...</option>
                        </select>
                    </div>

                    <div class="info-display">
                        <span id="categoryInfo" class="badge">Category: Loading...</span>
                        <span id="pageCountInfo" class="badge">Pages: Loading...</span>
                    </div>
                </div>
            </div>

            <div class="pdf-viewer-container">
                <button class="nav-arrow nav-arrow-left" id="prevArrow" title="Previous Page">‚èÆ</button>

                <div class="pdf-canvas-wrapper">
                    <div id="errorMsg"></div>
                    <canvas id="pdfCanvas"></canvas>
                    <div id="loadingMsg" class="loading" style="display:none;">Loading PDF...</div>
                </div>

                <button class="nav-arrow nav-arrow-right" id="nextArrow" title="Next Page">‚è≠</button>
            </div>

            <div style="text-align: center; padding: 20px; background: var(--light); font-size: 14px; color: var(--text);">
                <span id="pageCounter">Page 1 of 1</span>
            </div>
        </div>

        <div id="aboutus" class="content-section">
            <div class="content-page">
                <h1>About Us</h1>
                <p>epaperb10vartha.in is a Telugu online e-paper dedicated to delivering fast, reliable news to readers in their own language.</p>

                <p>It focuses on local news from towns and villages across Andhra Pradesh and Telangana, ensuring regional issues and voices are highlighted. At the same time, it covers major national developments from across India, helping readers stay informed about politics, economy, technology, and society.</p>

                <p>International news is included so Telugu readers can easily follow important global events without language barriers. The platform aims to provide clear, unbiased coverage with a special emphasis on accuracy and credibility.</p>

                <p>Designed as a digital e-paper, it offers a newspaper-like reading experience that works smoothly on mobiles, tablets, and desktops. The vision of epaperb10vartha.in is to make quality journalism accessible to every Telugu speaker, wherever they live.</p>
            </div>
        </div>

        <div id="privacy" class="content-section">
            <div class="content-page">
                <h1>Privacy Policy</h1>

                <p>B10 Vartha respects your privacy and is committed to protecting it. This website is designed only to display Telugu news and related content. We do not require users to create an account, log in, or share any personal information to read our e-paper.</p>

                <p>We do not intentionally collect, store, or sell any personal data such as names, email addresses, phone numbers, or location details. Any information you choose to share with us voluntarily (for example, when contacting us by email or phone) will be used only to respond to your enquiry and will not be shared with third parties without your consent, except if required by law.</p>

                <p>Our website may be hosted on third-party servers or may use standard web technologies (such as basic server logs) for security and performance, but we do not use this information to identify individual users. If we ever change our data practices in the future, we will update this Privacy Policy and clearly inform users on this page.</p>

                <p>By using this website, you agree to this Privacy Policy. If you have any questions, you can contact us at <a href="mailto:sekharbyiram@gmail.com">sekharbyiram@gmail.com</a> or <a href="tel:+919000607207">9000607207</a>.</p>
            </div>
        </div>

        <div id="contact" class="content-section">
            <div class="content-page">
                <h1>Contact Us</h1>

                <p>For any news tips, feedback, advertising inquiries, or general questions about B10 Vartha, please reach out to us using the details provided below.</p>

                <h2>Contact Information</h2>

                <p><strong>Email:</strong> <a href="mailto:sekharbyiram@gmail.com">sekharbyiram@gmail.com</a></p>

                <p><strong>Phone / WhatsApp:</strong> <a href="https://wa.me/919000607207">+91 9000607207</a></p>

                <p>We welcome story suggestions, corrections, partnership proposals, and general questions from our readers. Your feedback helps us improve our coverage and better serve the Telugu community.</p>
            </div>
        </div>
    </div>

    <footer class="footer" id="mainFooter">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" onclick="showPage('home'); return false;">Home</a>
                <span class="footer-divider">|</span>
                <a href="#" onclick="showPage('aboutus'); return false;">About Us</a>
                <span class="footer-divider">|</span>
                <a href="#" onclick="showPage('privacy'); return false;">Privacy Policy</a>
                <span class="footer-divider">|</span>
                <a href="#" onclick="showPage('contact'); return false;">Contact Us</a>
            </div>

            <div class="social-icons">
                <button class="social-icon" onclick="window.open('https://www.youtube.com/@B10newsApp/videos', '_blank')" title="YouTube">üì∫</button>
                <button class="social-icon" onclick="window.open('https://www.facebook.com/pB10News-100086213201003/?hr=1', '_blank')" title="Facebook">f</button>
                <button class="social-icon" onclick="window.open('https://wa.me/919000607207', '_blank')" title="WhatsApp">üí¨</button>
            </div>

            <div class="page-indicators" id="footerPageButtons">
                <button class="page-indicator" onclick="jumpToPage(1)" id="pageBtn1">1</button>
                <button class="page-indicator" onclick="jumpToPage(2)" id="pageBtn2">2</button>
                <button class="page-indicator" onclick="jumpToPage(3)" id="pageBtn3">3</button>
                <button class="page-indicator" onclick="jumpToPage(4)" id="pageBtn4">4</button>
            </div>
        </div>

        <div class="footer-copyright">
            ¬© 2024 epaperb10vartha.in
        </div>
    </footer>

    <button id="footerToggle" class="footer-toggle-btn">‚èè</button>

    <script>
        /* Configuration */
        const PDF_BASE_PATH = 'https://ramuapplab.github.io/epaperb10vartha/pages/';
        const DATA_FILE = 'https://ramuapplab.github.io/epaperb10vartha/archive-index.json';

        /* State */
        let currentEdition = null;
        let allEditions;
        let currentPdfDoc = null;
        let currentPageNum = 1;
        let zoomLevel = 1;

        /* Initialize on page load */
        document.addEventListener('DOMContentLoaded', async () => {
            setupMenuListeners();
            setupQRModal();
            await loadEditions();
            setupEventListeners();
        });

        /* MENU FUNCTIONALITY */
        function setupMenuListeners() {
            const menuBtn = document.getElementById('menuBtn');
            const closeMenuBtn = document.getElementById('closeMenuBtn');
            const shareBtn = document.getElementById('shareBtn');
            const sideMenu = document.getElementById('sideMenu');
            const menuOverlay = document.getElementById('menuOverlay');

            menuBtn.addEventListener('click', () => {
                sideMenu.classList.add('active');
                menuOverlay.classList.add('active');
            });

            closeMenuBtn.addEventListener('click', () => {
                sideMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
            });

            menuOverlay.addEventListener('click', () => {
                sideMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
            });

            // Share functionality
            shareBtn.addEventListener('click', shareApp);
        }

        /* SHARE FUNCTION */
        function shareApp() {
            const shareData = {
                title: 'B10 Vartha',
                text: 'B10 Vartha - Daily Telugu E-Paper for Andhra Pradesh News',
                url: window.location.href,
            };

            if (navigator.share) {
                navigator.share(shareData)
                    .catch(error => console.log('Share cancelled', error));
            } else {
                // Fallback: Copy to clipboard
                const text = 'B10 Vartha - ' + window.location.href;
                navigator.clipboard.writeText(text)
                    .then(() => alert('Link copied to clipboard!'))
                    .catch(() => alert('B10 Vartha - ' + window.location.href));
            }
        }

        /* PAGE NAVIGATION */
        function showPage(pageId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            document.getElementById(pageId).classList.add('active');

            // Close menu if open
            document.getElementById('sideMenu').classList.remove('active');
            document.getElementById('menuOverlay').classList.remove('active');

            // If showing home page, load PDF viewer
            if (pageId === 'home') {
                setTimeout(() => {
                    if (currentEdition) {
                        loadPdfPage(currentEdition.date, currentPageNum);
                    }
                }, 100);
            }
        }

        /* QR CODE MODAL */
        function setupQRModal() {
            const qrToggle = document.getElementById('qrToggle');
            const qrModal = document.getElementById('qrModal');

            qrToggle.addEventListener('click', () => {
                qrModal.classList.add('active');
            });

            qrModal.addEventListener('click', (e) => {
                if (e.target === qrModal) {
                    closeQRModal();
                }
            });
        }

        function closeQRModal() {
            document.getElementById('qrModal').classList.remove('active');
        }

        /* LOAD EDITIONS */
        async function loadEditions() {
            try {
                const response = await fetch(DATA_FILE);
                if (!response.ok) throw new Error('Failed to load archive-index.json');

                const data = await response.json();
                allEditions = data.editions;

                if (allEditions.length === 0) {
                    showError('No editions found. Please add PDFs and update archive-index.json');
                    return;
                }

                populateDropdown();
                await loadEdition(allEditions[0].date);
            } catch (error) {
                showError(`Error loading editions: ${error.message}`);
                console.error(error);
            }
        }

        /* POPULATE DROPDOWN */
        function populateDropdown() {
            const dropdown = document.getElementById('editionSelect');
            dropdown.innerHTML = '';

            allEditions.forEach((edition, index) => {
                const option = document.createElement('option');
                option.value = edition.date;

                let text = edition.displayDate || edition.date;
                text += ` (${edition.pageCount} pages)`;

                if (index === 0) {
                    text += ' - Latest';
                }

                option.textContent = text;
                dropdown.appendChild(option);
            });

            dropdown.addEventListener('change', (e) => loadEdition(e.target.value));
        }

        /* LOAD EDITION */
        async function loadEdition(date) {
            currentEdition = allEditions.find(e => e.date === date);

            if (!currentEdition) {
                showError('Edition not found');
                return;
            }

            currentPageNum = 1;
            zoomLevel = 1;

            document.getElementById('categoryInfo').textContent = currentEdition.category;
            document.getElementById('pageCountInfo').textContent = `${currentEdition.pageCount} pages`;
            document.getElementById('editionSelect').value = date;

            await loadPdfPage(date, 1);
        }

        /* LOAD PDF PAGE - FIXED VERSION */
        /* For separate files page1.pdf, page2.pdf, etc. */
        async function loadPdfPage(date, pageNum) {
            try {
                document.getElementById('loadingMsg').style.display = 'block';
                document.getElementById('pdfCanvas').style.display = 'none';

                /* Construct filename dynamically: page1.pdf, page2.pdf, etc. */
                const basePath = PDF_BASE_PATH.endsWith('/') ? PDF_BASE_PATH : PDF_BASE_PATH + '/';
                const pdfUrl = `${basePath}${date}/page${pageNum}.pdf`;

                const pdf = await pdfjsLib.getDocument(pdfUrl).promise;
                currentPdfDoc = pdf;

                /* This is the file for JUST this page */
                /* We always render Page 1 of the loaded file because the file page2.pdf only contains that single page. */
                const page = await pdf.getPage(1);

                // ---- SMART ZOOM LOGIC ----
                const viewportRaw = page.getViewport({ scale: 1.0 });
                const screenWidth = window.innerWidth;
                let scale = (screenWidth - 20) / viewportRaw.width; // Fits width perfectly
                if (scale > 1.5) scale = 1.5; // Limits size on large desktops

                const viewport = page.getViewport({ scale: scale });
                const canvas = document.getElementById('pdfCanvas');
                const ctx = canvas.getContext('2d');
                canvas.width = viewport.width;
                canvas.height = viewport.height;

                await page.render({ canvasContext: ctx, viewport: viewport }).promise;

                /* Update page counter to show Page X of Total using the JSON count */
                const totalPages = currentEdition ? currentEdition.pageCount : 1;
                document.getElementById('pageCounter').textContent = `Page ${pageNum} of ${totalPages}`;
                

                document.getElementById('loadingMsg').style.display = 'none';
                document.getElementById('pdfCanvas').style.display = 'block';
                updatePageButtons(totalPages);
                window.scrollTo(0, 0); // Jumps back to top on page change
            } catch (error) {
                showError(`Error loading page ${pageNum}: ${error.message}`);
                document.getElementById('loadingMsg').style.display = 'none';
                console.error(error);
            }
        }

        
// Preload next and previous PDFs for instant page switching
function preloadAdjacentPages(date, currentPage, totalPages) {
    const pdfFolder = `pages/${date}`;
    
    // Remove old preload links
    document.querySelectorAll('link[rel="prefetch"]').forEach(link => link.remove());
    
    // Preload next page
    if (currentPage < totalPages) {
        const nextPdfUrl = `${pdfFolder}/page${currentPage + 1}.pdf`;
        const nextLink = document.createElement('link');
        nextLink.rel = 'prefetch';
        nextLink.href = nextPdfUrl;
        document.head.appendChild(nextLink);
    }
    
    // Preload previous page
    if (currentPage > 1) {
        const prevPdfUrl = `${pdfFolder}/page${currentPage - 1}.pdf`;
        const prevLink = document.createElement('link');
        prevLink.rel = 'prefetch';
        prevLink.href = prevPdfUrl;
        document.head.appendChild(prevLink);
    }
}


        /* EVENT LISTENERS */
        function setupEventListeners() {
            document.getElementById('nextArrow').addEventListener('click', nextPage);
            document.getElementById('prevArrow').addEventListener('click', prevPage);
        }

        /* PAGE NAVIGATION - Updated for separate files logic */
        function nextPage() {
            /* Check against total pages from JSON, not the current PDF file */
            const totalPages = currentEdition ? currentEdition.pageCount : 1;

            if (currentPageNum < totalPages) {
                currentPageNum++; /* Increment our tracker */
                loadPdfPage(currentEdition.date, currentPageNum);
            }
        }

        function prevPage() {
            if (currentPageNum > 1) {
                currentPageNum--; /* Decrement our tracker */
                loadPdfPage(currentEdition.date, currentPageNum);
            }
        }

        /* JUMP TO PAGE */
        function jumpToPage(pageNum) {
            const totalPages = currentEdition ? currentEdition.pageCount : 1;

            if (pageNum < 0) pageNum = 0;
            if (pageNum > totalPages) pageNum = totalPages;

            currentPageNum = pageNum;
            loadPdfPage(currentEdition.date, pageNum);
        }

        /* UPDATE PAGE BUTTONS */
        function updatePageButtons(totalPages) {
            // Re-generate buttons if needed, or just update style
            const container = document.getElementById('footerPageButtons');
            container.innerHTML = ''; // Clear old buttons

            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.className = 'page-indicator';
                btn.id = `pageBtn${i}`;
                btn.textContent = i < 10 ? '0' + i : i;
                btn.onclick = () => jumpToPage(i);

                // Highlight current page
                if (i === currentPageNum) {
                    btn.style.background = 'white';
                    btn.style.color = 'var(--secondary)';
                }

                container.appendChild(btn);
            }
        }

        /* ERROR MESSAGE */
        function showError(message) {
            const errorEl = document.getElementById('errorMsg');
            errorEl.innerHTML = `<div class="error-message">${message}</div>`;
        }

        /* Footer Toggle Switch */
        const footerBtn = document.getElementById('footerToggle');
        const footer = document.getElementById('mainFooter');

        footerBtn.addEventListener('click', () => {
            footer.classList.toggle('visible');
            footerBtn.textContent = footer.classList.contains('visible') ? '‚ñº' : '‚èè';
        });
    </script>
<!-- Category Button Click Handler -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const categoryButtons = document.querySelectorAll('.category-btn');
  
  categoryButtons.forEach(button => {
    button.addEventListener('click', function(e) {
      categoryButtons.forEach(btn => btn.classList.remove('active'));
      this.classList.add('active');
    });
  });
});
</script>


</body>
</html>